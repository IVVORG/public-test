name: Cherry Pick Commits on Issue Creation

on: [push]
#  issues:
#    types: [opened]

jobs:

  add-issue-comment:
    # Use GitHub Script to add a comment
    name: Build
    runs-on: ubuntu-latest
    steps:

      - name: Add comment to issue
        uses: actions/github-script@v6
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const workflow_run_url = `https://github.com/${github.context.repo.owner}/${github.context.repo.repo}/actions/runs/${github.context.runId}`;
            const body = `This is a comment with a link to the running workflow: [Workflow Run #${github.context.runNumber}](${workflow_run_url})`;
            await github.rest.issues.createComment({
              owner: github.context.repo.owner,
              repo: github.context.repo.repo,
              issue_number: 414,
              body: body
            });

#  cherry-pick:
#    uses: ./.github/workflows/wf-sp.yml
#    with: 
#      org: 'IVVORG'
#      repo: 'public-test-repo'
#      team: 'DevOps_cp'
#      user: '${{ github.event.issue.user.login }}'
#      issue-title: '${{ github.event.issue.title }}'
#      issue-body: '${{ github.event.issue.body }}'
#    secrets:
#      git_token: ${{ secrets.REPOREADING_TOKEN }}

